2023-09-09T22:50:58.401+03:00  INFO 19484 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : Starting CompanyRepositoryTest using Java 17.0.6 with PID 19484 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:50:58.419+03:00  INFO 19484 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : The following 1 profile is active: "test"
2023-09-09T22:51:00.223+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:51:00.308+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.
2023-09-09T22:51:03.656+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-09T22:51:04.263+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ca4c88a
2023-09-09T22:51:04.266+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-09T22:51:04.446+03:00  INFO 19484 --- [Test worker] liquibase.database                       : Set default schema name to public
2023-09-09T22:51:04.891+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.901+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.914+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.923+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.934+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.937+03:00  INFO 19484 --- [Test worker] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-09T22:51:04.966+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-09T22:51:04.975+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:04.983+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-09T22:51:04.995+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.004+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.168+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.172+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::1::sharov ran successfully in 48ms
2023-09-09T22:51:05.182+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.192+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.215+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.218+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::2::sharov ran successfully in 16ms
2023-09-09T22:51:05.222+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.239+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.243+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::3::sharov ran successfully in 16ms
2023-09-09T22:51:05.249+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.265+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.268+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::4::sharov ran successfully in 15ms
2023-09-09T22:51:05.273+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.285+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.289+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::5::sharov ran successfully in 12ms
2023-09-09T22:51:05.294+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.330+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.335+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::6::sharov ran successfully in 38ms
2023-09-09T22:51:05.340+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.359+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.363+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.0.sql::1::sharov ran successfully in 19ms
2023-09-09T22:51:05.366+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.374+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.378+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.1.sql::1::sharov ran successfully in 8ms
2023-09-09T22:51:05.382+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.392+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.393+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.1.sql::2::sharov ran successfully in 9ms
2023-09-09T22:51:05.396+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.404+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.407+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.2.sql::1::sharov ran successfully in 8ms
2023-09-09T22:51:05.411+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.418+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.421+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.2.sql::2::sharov ran successfully in 6ms
2023-09-09T22:51:05.424+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.431+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.434+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-3.0.sql::1::sharov ran successfully in 6ms
2023-09-09T22:51:05.436+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.444+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.447+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-3.0.sql::2::sharov ran successfully in 7ms
2023-09-09T22:51:05.451+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.460+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.463+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-4.0.sql::1::sharov ran successfully in 8ms
2023-09-09T22:51:05.466+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.479+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:51:05.482+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-4.0.sql::2::sharov ran successfully in 13ms
2023-09-09T22:51:05.487+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.490+03:00  INFO 19484 --- [Test worker] liquibase                                : Update command completed successfully.
2023-09-09T22:51:05.496+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:05.498+03:00  INFO 19484 --- [Test worker] liquibase.lockservice                    : Successfully released change log lock
2023-09-09T22:51:05.873+03:00  INFO 19484 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-09T22:51:06.262+03:00  INFO 19484 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2023-09-09T22:51:06.268+03:00  INFO 19484 --- [Test worker] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-09-09T22:51:06.642+03:00  INFO 19484 --- [Test worker] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2023-09-09T22:51:06.683+03:00  INFO 19484 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:51:06.991+03:00  INFO 19484 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-09-09T22:51:07.679+03:00  INFO 19484 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:51:08.954+03:00  INFO 19484 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-09T22:51:09.788+03:00  INFO 19484 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:51:09.828+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:13.093+03:00  INFO 19484 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-09-09T22:51:14.211+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:14.219+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:16.007+03:00  INFO 19484 --- [Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45ca96f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4cb15553, org.springframework.security.web.context.SecurityContextHolderFilter@47cdae47, org.springframework.security.web.header.HeaderWriterFilter@436c910e, org.springframework.security.web.csrf.CsrfFilter@1a9797f2, org.springframework.security.web.authentication.logout.LogoutFilter@3752cff3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@703f29b0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2959dfb7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@203c5f7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@628cc4e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67174f09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b728f15, org.springframework.security.web.access.ExceptionTranslationFilter@16bf9b0a, org.springframework.security.web.access.intercept.AuthorizationFilter@6212695e]
2023-09-09T22:51:17.444+03:00  INFO 19484 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : Started CompanyRepositoryTest in 19.569 seconds (process running for 25.223)
2023-09-09T22:51:19.123+03:00  INFO 19484 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.database.repository.UserRepositoryTest
2023-09-09T22:51:19.182+03:00 DEBUG 19484 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2023-09-09T22:51:19.187+03:00 DEBUG 19484 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    firstname,
    lastname,
    birth_date
FROM users
WHERE company_id = ?
    AND role = ?
]
2023-09-09T22:51:19.214+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.218+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.640+03:00 DEBUG 19484 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing SQL batch update [UPDATE users
SET company_id = ?,
    role = ?
WHERE id = ?
]
2023-09-09T22:51:19.645+03:00 DEBUG 19484 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users
SET company_id = ?,
    role = ?
WHERE id = ?
]
2023-09-09T22:51:19.649+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.649+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [ADMIN], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.649+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [1], value class [java.lang.Long], SQL type unknown
2023-09-09T22:51:19.649+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.650+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.651+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [2], value class [java.lang.Long], SQL type unknown
2023-09-09T22:51:19.651+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.652+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.652+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [3], value class [java.lang.Long], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [4], value class [java.lang.Long], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [ADMIN], value class [java.lang.String], SQL type unknown
2023-09-09T22:51:19.653+03:00 TRACE 19484 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [5], value class [java.lang.Long], SQL type unknown
2023-09-09T22:51:20.812+03:00  INFO 19484 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.http.controller.UserControllerTest
2023-09-09T22:51:20.878+03:00  INFO 19484 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : Starting UserControllerTest using Java 17.0.6 with PID 19484 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:51:20.879+03:00  INFO 19484 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : The following 1 profile is active: "test"
2023-09-09T22:51:21.339+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:51:21.367+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-09-09T22:51:21.698+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-09-09T22:51:21.856+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@78f7e773
2023-09-09T22:51:21.858+03:00  INFO 19484 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-09-09T22:51:21.878+03:00  INFO 19484 --- [Test worker] liquibase.database                       : Set default schema name to public
2023-09-09T22:51:21.903+03:00  INFO 19484 --- [Test worker] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-09T22:51:21.909+03:00  INFO 19484 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:51:21.980+03:00  INFO 19484 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-09T22:51:22.008+03:00  INFO 19484 --- [Test worker] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2023-09-09T22:51:22.017+03:00  INFO 19484 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:51:22.017+03:00  INFO 19484 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-09-09T22:51:22.150+03:00  INFO 19484 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:51:22.419+03:00  INFO 19484 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-09T22:51:22.451+03:00  INFO 19484 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:51:22.459+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:22.711+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:22.717+03:00  INFO 19484 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:51:22.976+03:00  INFO 19484 --- [Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61349cdd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3322a52e, org.springframework.security.web.context.SecurityContextHolderFilter@ab8d6a6, org.springframework.security.web.header.HeaderWriterFilter@751e632a, org.springframework.security.web.csrf.CsrfFilter@1a27077c, org.springframework.security.web.authentication.logout.LogoutFilter@2e7b57b3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4c7f5f51, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@412e11bf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38cd4134, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28062c6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@643b983a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@591f1cc, org.springframework.security.web.access.ExceptionTranslationFilter@62f5d080, org.springframework.security.web.access.intercept.AuthorizationFilter@f45efe8]
2023-09-09T22:51:23.285+03:00  INFO 19484 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-09-09T22:51:23.286+03:00  INFO 19484 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-09-09T22:51:23.289+03:00  INFO 19484 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-09-09T22:51:23.324+03:00  INFO 19484 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : Started UserControllerTest in 2.5 seconds (process running for 31.103)
2023-09-09T22:51:25.413+03:00  INFO 19484 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.service.CompanyServiceIT
2023-09-09T22:51:25.458+03:00  INFO 19484 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : Starting CompanyServiceIT using Java 17.0.6 with PID 19484 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:51:25.459+03:00  INFO 19484 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : The following 1 profile is active: "test"
2023-09-09T22:51:25.708+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:51:25.752+03:00  INFO 19484 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-09-09T22:51:25.951+03:00  WARN 19484 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine suitable jdbc url
2023-09-09T22:51:25.964+03:00  INFO 19484 --- [Test worker] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-09-09T22:51:26.017+03:00 ERROR 19484 --- [Test worker] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine suitable jdbc url


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles test are currently active).

2023-09-09T22:51:26.055+03:00  INFO 19484 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.service.UserServiceIT
2023-09-09T22:51:27.680+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.681+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.683+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.683+03:00  INFO 19484 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:51:27.690+03:00  INFO 19484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-09T22:51:27.706+03:00  INFO 19484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-09T22:51:27.712+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.713+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.714+03:00  INFO 19484 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:51:27.714+03:00  INFO 19484 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:51:27.715+03:00  INFO 19484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-09-09T22:51:27.719+03:00  INFO 19484 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-09-09T22:52:28.995+03:00  INFO 2824 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : Starting CompanyServiceIT using Java 17.0.6 with PID 2824 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:52:28.996+03:00  INFO 2824 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : The following 1 profile is active: "test"
2023-09-09T22:52:29.521+03:00  INFO 2824 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:52:29.564+03:00  INFO 2824 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-09-09T22:52:30.202+03:00  WARN 2824 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine suitable jdbc url
2023-09-09T22:52:30.209+03:00  INFO 2824 --- [Test worker] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-09-09T22:52:30.229+03:00 ERROR 2824 --- [Test worker] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine suitable jdbc url


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles test are currently active).

2023-09-09T22:53:11.088+03:00  INFO 8136 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : Starting CompanyServiceIT using Java 17.0.6 with PID 8136 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:53:11.089+03:00  INFO 8136 --- [Test worker] c.s.s.i.service.CompanyServiceIT         : The following 1 profile is active: "test"
2023-09-09T22:53:11.617+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:53:11.665+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-09-09T22:53:12.340+03:00  WARN 8136 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine suitable jdbc url
2023-09-09T22:53:12.350+03:00  INFO 8136 --- [Test worker] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-09-09T22:53:12.380+03:00 ERROR 8136 --- [Test worker] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine suitable jdbc url


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles test are currently active).

2023-09-09T22:53:12.456+03:00  INFO 8136 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.database.repository.CompanyRepositoryTest
2023-09-09T22:53:12.555+03:00  INFO 8136 --- [Test worker] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-09-09T22:53:12.851+03:00  INFO 8136 --- [Test worker] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-09-09T22:53:13.056+03:00  INFO 8136 --- [Test worker] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-09-09T22:53:13.057+03:00  INFO 8136 --- [Test worker] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2023-09-09T22:53:13.070+03:00  INFO 8136 --- [Test worker] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 24.0.5
  API Version: 1.43
  Operating System: Docker Desktop
  Total Memory: 7816 MB
2023-09-09T22:53:13.087+03:00  INFO 8136 --- [Test worker] tc.testcontainers/ryuk:0.5.1             : Creating container for image: testcontainers/ryuk:0.5.1
2023-09-09T22:53:13.274+03:00  INFO 8136 --- [Test worker] tc.testcontainers/ryuk:0.5.1             : Container testcontainers/ryuk:0.5.1 is starting: abb60060670f5d20bdfb91a5f4116641a0fc080c9087c05d22ed5aab7a261ac1
2023-09-09T22:53:13.810+03:00  INFO 8136 --- [Test worker] tc.testcontainers/ryuk:0.5.1             : Container testcontainers/ryuk:0.5.1 started in PT0.7335322S
2023-09-09T22:53:13.814+03:00  INFO 8136 --- [Test worker] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-09-09T22:53:13.815+03:00  INFO 8136 --- [Test worker] org.testcontainers.DockerClientFactory   : Checking the system...
2023-09-09T22:53:13.815+03:00  INFO 8136 --- [Test worker] org.testcontainers.DockerClientFactory   : ?? Docker server version should be at least 1.6.0
2023-09-09T22:53:13.821+03:00  INFO 8136 --- [Test worker] tc.postgres:latest                       : Creating container for image: postgres:latest
2023-09-09T22:53:13.842+03:00  INFO 8136 --- [Test worker] tc.postgres:latest                       : Container postgres:latest is starting: c35e124f9020ca57e2573c91bb651f9b28e0f3e5c5feaceb898f85c2f80d1eda
2023-09-09T22:53:15.137+03:00  INFO 8136 --- [Test worker] tc.postgres:latest                       : Container postgres:latest started in PT1.3207387S
2023-09-09T22:53:15.137+03:00  INFO 8136 --- [Test worker] tc.postgres:latest                       : Container is started (JDBC URL: jdbc:postgresql://localhost:50110/test?loggerLevel=OFF)
2023-09-09T22:53:15.161+03:00  INFO 8136 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : Starting CompanyRepositoryTest using Java 17.0.6 with PID 8136 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:53:15.162+03:00  INFO 8136 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : The following 1 profile is active: "test"
2023-09-09T22:53:15.281+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:53:15.297+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 2 JPA repository interfaces.
2023-09-09T22:53:15.479+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-09-09T22:53:15.632+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f33bb6f
2023-09-09T22:53:15.634+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-09-09T22:53:15.771+03:00  INFO 8136 --- [Test worker] liquibase.database                       : Set default schema name to public
2023-09-09T22:53:15.906+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.910+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.914+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.918+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.922+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.923+03:00  INFO 8136 --- [Test worker] liquibase.lockservice                    : Successfully acquired change log lock
2023-09-09T22:53:15.940+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Creating database history table with name: public.databasechangelog
2023-09-09T22:53:15.945+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.949+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-09T22:53:15.954+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:15.957+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.029+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.030+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::1::sharov ran successfully in 19ms
2023-09-09T22:53:16.035+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.037+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.044+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.046+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::2::sharov ran successfully in 6ms
2023-09-09T22:53:16.048+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.056+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.057+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::3::sharov ran successfully in 7ms
2023-09-09T22:53:16.060+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.065+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.066+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::4::sharov ran successfully in 5ms
2023-09-09T22:53:16.068+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.073+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.074+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::5::sharov ran successfully in 5ms
2023-09-09T22:53:16.075+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.080+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.082+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-1.0.sql::6::sharov ran successfully in 4ms
2023-09-09T22:53:16.084+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.090+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.091+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.0.sql::1::sharov ran successfully in 6ms
2023-09-09T22:53:16.092+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.096+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.097+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.1.sql::1::sharov ran successfully in 4ms
2023-09-09T22:53:16.098+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.103+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.104+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.1.sql::2::sharov ran successfully in 4ms
2023-09-09T22:53:16.106+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.109+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.111+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.2.sql::1::sharov ran successfully in 3ms
2023-09-09T22:53:16.112+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.115+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.116+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-2.2.sql::2::sharov ran successfully in 3ms
2023-09-09T22:53:16.118+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.121+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.122+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-3.0.sql::1::sharov ran successfully in 3ms
2023-09-09T22:53:16.124+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.126+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.127+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-3.0.sql::2::sharov ran successfully in 2ms
2023-09-09T22:53:16.129+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.133+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.134+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-4.0.sql::1::sharov ran successfully in 4ms
2023-09-09T22:53:16.136+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.139+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Custom SQL executed
2023-09-09T22:53:16.140+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : ChangeSet db/changelog/db.changelog-4.0.sql::2::sharov ran successfully in 3ms
2023-09-09T22:53:16.142+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.143+03:00  INFO 8136 --- [Test worker] liquibase                                : Update command completed successfully.
2023-09-09T22:53:16.146+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:16.146+03:00  INFO 8136 --- [Test worker] liquibase.lockservice                    : Successfully released change log lock
2023-09-09T22:53:16.228+03:00  INFO 8136 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-09T22:53:16.311+03:00  INFO 8136 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2023-09-09T22:53:16.314+03:00  INFO 8136 --- [Test worker] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-09-09T22:53:16.476+03:00  INFO 8136 --- [Test worker] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2023-09-09T22:53:16.498+03:00  INFO 8136 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:53:16.635+03:00  INFO 8136 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-09-09T22:53:16.958+03:00  INFO 8136 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:53:17.580+03:00  INFO 8136 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-09T22:53:17.879+03:00  INFO 8136 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:53:17.891+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:19.023+03:00  INFO 8136 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-09-09T22:53:19.479+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:19.481+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:20.217+03:00  INFO 8136 --- [Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@422ff506, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@479875b1, org.springframework.security.web.context.SecurityContextHolderFilter@212d8133, org.springframework.security.web.header.HeaderWriterFilter@5eea3f69, org.springframework.security.web.csrf.CsrfFilter@7459002d, org.springframework.security.web.authentication.logout.LogoutFilter@2c9b96af, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@26647ac8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2eedd575, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2ffa8ce5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3551aa2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c98d788, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79e464a, org.springframework.security.web.access.ExceptionTranslationFilter@49f4de0e, org.springframework.security.web.access.intercept.AuthorizationFilter@4dbae8f]
2023-09-09T22:53:20.726+03:00  INFO 8136 --- [Test worker] c.s.s.i.d.r.CompanyRepositoryTest        : Started CompanyRepositoryTest in 5.586 seconds (process running for 10.857)
2023-09-09T22:53:21.205+03:00  INFO 8136 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.database.repository.UserRepositoryTest
2023-09-09T22:53:21.232+03:00 DEBUG 8136 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2023-09-09T22:53:21.234+03:00 DEBUG 8136 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    firstname,
    lastname,
    birth_date
FROM users
WHERE company_id = ?
    AND role = ?
]
2023-09-09T22:53:21.242+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.243+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.384+03:00 DEBUG 8136 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing SQL batch update [UPDATE users
SET company_id = ?,
    role = ?
WHERE id = ?
]
2023-09-09T22:53:21.385+03:00 DEBUG 8136 --- [Test worker] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE users
SET company_id = ?,
    role = ?
WHERE id = ?
]
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [ADMIN], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [1], value class [java.lang.Long], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [1], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [2], value class [java.lang.Long], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [2], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [3], value class [java.lang.Long], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [USER], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [4], value class [java.lang.Long], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 1, parameter value [3], value class [java.lang.Integer], SQL type unknown
2023-09-09T22:53:21.386+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 2, parameter value [ADMIN], value class [java.lang.String], SQL type unknown
2023-09-09T22:53:21.387+03:00 TRACE 8136 --- [Test worker] o.s.jdbc.core.StatementCreatorUtils      : Setting SQL statement parameter value: column index 3, parameter value [5], value class [java.lang.Long], SQL type unknown
2023-09-09T22:53:21.768+03:00  INFO 8136 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.http.controller.UserControllerTest
2023-09-09T22:53:21.796+03:00  INFO 8136 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : Starting UserControllerTest using Java 17.0.6 with PID 8136 (started by psypo in D:\Projects\spring-starter)
2023-09-09T22:53:21.797+03:00  INFO 8136 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : The following 1 profile is active: "test"
2023-09-09T22:53:21.971+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-09-09T22:53:21.984+03:00  INFO 8136 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-09-09T22:53:22.137+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-09-09T22:53:22.300+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3f126927
2023-09-09T22:53:22.300+03:00  INFO 8136 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-09-09T22:53:22.311+03:00  INFO 8136 --- [Test worker] liquibase.database                       : Set default schema name to public
2023-09-09T22:53:22.323+03:00  INFO 8136 --- [Test worker] liquibase.changelog                      : Reading from public.databasechangelog
2023-09-09T22:53:22.326+03:00  INFO 8136 --- [Test worker] liquibase.executor                       : Changelog query completed.
2023-09-09T22:53:22.358+03:00  INFO 8136 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-09-09T22:53:22.367+03:00  INFO 8136 --- [Test worker] o.h.e.boot.internal.EnversServiceImpl    : Envers integration enabled? : true
2023-09-09T22:53:22.370+03:00  INFO 8136 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:53:22.370+03:00  INFO 8136 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-09-09T22:53:22.421+03:00  INFO 8136 --- [Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-09-09T22:53:22.525+03:00  INFO 8136 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-09-09T22:53:22.539+03:00  INFO 8136 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:53:22.543+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:22.679+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:22.680+03:00  INFO 8136 --- [Test worker] c.s.spring.database.pool.ConnectionPool  : Init connection pool
2023-09-09T22:53:22.814+03:00  INFO 8136 --- [Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e094fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e2b679e, org.springframework.security.web.context.SecurityContextHolderFilter@9facde, org.springframework.security.web.header.HeaderWriterFilter@5eca6e7d, org.springframework.security.web.csrf.CsrfFilter@3d17531c, org.springframework.security.web.authentication.logout.LogoutFilter@7c99e5dd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@58d9d844, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c6e8eed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6bdd7fef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7979062, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c297e12, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78a689e7, org.springframework.security.web.access.ExceptionTranslationFilter@53ab03c9, org.springframework.security.web.access.intercept.AuthorizationFilter@a841a6]
2023-09-09T22:53:23.044+03:00  INFO 8136 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-09-09T22:53:23.044+03:00  INFO 8136 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-09-09T22:53:23.046+03:00  INFO 8136 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-09-09T22:53:23.060+03:00  INFO 8136 --- [Test worker] c.s.s.i.h.controller.UserControllerTest  : Started UserControllerTest in 1.288 seconds (process running for 13.19)
2023-09-09T22:53:23.792+03:00  INFO 8136 --- [Test worker] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.sharov.spring.ApplicationRunner for test class com.sharov.spring.integration.service.UserServiceIT
2023-09-09T22:53:24.480+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.480+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.480+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.481+03:00  INFO 8136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:53:24.484+03:00  INFO 8136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-09-09T22:53:24.488+03:00  INFO 8136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-09-09T22:53:24.491+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.492+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.492+03:00  INFO 8136 --- [SpringApplicationShutdownHook] c.s.spring.database.pool.ConnectionPool  : Clean connection pool
2023-09-09T22:53:24.492+03:00  INFO 8136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-09-09T22:53:24.492+03:00  INFO 8136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-09-09T22:53:24.494+03:00  INFO 8136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
